<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <!-- Issue: "Camera is super sensitive to motion on Chrome Beta 66 on Android" fixed in Version 8.2 -->
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="skript.js" type="text/javascript"></script>
    <!--<script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>-->
    <link href="style.css" rel="stylesheet">
    <title>Skyline</title>
</head>
<body>

<!-- Sound --
<button id="play-button">Begin Experience</button>-->


<!-- stats: Anzeige der Performance; vr-mode auf false aktiviert automatisch den VR Modus-->
<a-scene stats raycaster-autorefresh vr-mode-ui="enabled: true">

    <a-assets>

        <a-asset-item id="hotairballoon" src="models/hotairballoon.dae"></a-asset-item>
        <a-asset-item id="hotairballoon2" src="models/hotairballoon2.dae"></a-asset-item>
        <a-asset-item id="cliff" src="models/cliff.dae"></a-asset-item>
        <a-image id="img-start" src="images/start.jpg"></a-image>
        <a-image id="img-youdidit" src="images/youdidit.jpg"></a-image>
        <!--<a-image id="img-cancel" src="images/cancel.jpg"></a-image>-->
        <!--<a-asset-item id="wave" src="sounds/waves.mp3" response-type="arraybuffer"></a-asset-item>-->
        <!-- audio mit button
        <audio id="audi" src="sounds/waves.mp3" crossorigin="anonymous" autoplay="false"
               loop="true"
               style="display: none"></audio>-->
        <a-sky id="skybox" src="images/skybox.png"></a-sky>

    </a-assets>



    <!-- Kamera und Cursor -->
    <!-- cameraRig Entity zur Animation der Kamera Position -->
    <a-entity id="cameraRig" position ="0 0.5 0">
        <a-entity id="camera"
                  camera look-controls wasd-controls>
            <!-- Cursor: fuse-based (triggert Click wenn Nutzer auf ein Entity schaut, wartet 500 Millisekunden; Zoom bei Interaktion mit Objekt-->
            <a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -1"
                      material="color: black" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03">
                <a-animation begin="click" easing="ease-in" attribute="scale" dur="150"
                             fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
                <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500"
                             fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>

                <!-- Score -->
                <a-text id="scoredisplay" position="0.06 0.6 0" scale="0.6 0.6 0.6" value="Score: 0"></a-text>

            </a-entity>

            <!--<a-cursor material="color: black" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"></a-cursor>-->
        </a-entity>
        <!-- Animation der Kamera -->
        <a-animation
                begin="ring1"
                id="camera-move1"
                attribute="position"
                to="0 0.5 -1.2"
                dur="8000">
        </a-animation>
        <a-animation
                begin="ring2"
                id="camera-move2"
                attribute="position"
                to="0 0.5 -2.26"
                dur="8000">
        </a-animation>
        <a-animation
                begin="ring3"
                id="camera-move3"
                attribute="position"
                to="0 0.5 -3.32"
                dur="8000">
        </a-animation>
        <a-animation
                begin="ring4"
                id="camera-move4"
                attribute="position"
                to="0 0.5 -4.38"
                dur="8000">
        </a-animation>
        <a-animation
                begin="ring5"
                id="camera-move5"
                attribute="position"
                to="0 0.5 -5.44"
                dur="8000">
        </a-animation>
        <a-animation
                begin="balloon"
                id="camera-move6"
                attribute="position"
                to="0 0.5 -6.953"
                dur="8000">
        </a-animation>


        <!-- Cancel Bild --
        <a-image id="cancel" src="#img-cancel" scale="0.3 0.15 0.3" position="0.39 -0.68 -1">
        </a-image> -->

    </a-entity>


    <!-- Sound --
    <a-entity sound="src: #wave"></a-entity>-->

    <!-- Box mit verändernden Farben bei hover --
        <a-entity id="box" cursor-listener geometry="primitive: box" material="color: blue" position="-0.2 0 -4"></a-entity>
        -->



    <!-- Laden der Skybox -->
    <a-sky id="sky" src="#skybox" position="0 -200 0"></a-sky>


    <!-- Bilder -->

    <!-- Start Bild -->
    <a-image id="start" src="#img-start" scale="0.6 0.3 0.6" position="0 0.15 -1.3"
             visible-changer
             event-animate="target:#ring1-vis1; target2:#balloon-flight; aevent:startexperience">
             <!--sound="src: url(sounds/waves.mp3); on: click"-->
        <!-- Animation: bei Klick auf Bild: Bild verschwindet und Ring1 erscheint-->
    </a-image>

    <!-- You Did It Bild-->
    <a-image id="youdidit" src="#img-youdidit" scale="0 0 0" position="0 0.15 -6.59"
             visible-changer
             event-animate="target:#camera-move6; aevent:balloon">
        <!-- Animation: bei Klick auf Bild: Bild verschwindet und Kamerafahrt in den zweiten Ballon -->
        <a-animation
                begin="ring5"
                id="img2-vis1"
                attribute="scale"
                to="0.6 0.3 0.6"
                dur="1000"
                delay="4000"
                repeat="0">
        </a-animation>
    </a-image>

    <!-- Ringe auf Slackline -->

    <!-- Ring 1 -->
    <a-entity id="ring01" geometry="primitive:circle; radius: 0.65" material="side:double; opacity: 0.4" position="0 0.01 -1.2" rotation="90 0 0" scale="0 0 0"
              score-counter
              event-animate="target:#ring2-vis1; target2:#camera-move1; aevent:ring1">
        <!-- Animation: Ring 1 wird sichtbar; bei Klick auf Ring 1: Ring verschwindet und Kamerafahrt auf diesen -->
        <a-animation
                begin="startexperience"
                id="ring1-vis1"
                attribute="scale"
                to="0.3 0.3 1"
                dur="1400"
                repeat="0">
        </a-animation>
    </a-entity>

    <!-- Ring 2 -->
    <a-entity id="ring02" geometry="primitive:circle; radius: 0.65" material="side:double; opacity: 0.4" position="0 0.01 -2.26" rotation="90 0 0" scale="0 0 0"
              score-counter
              event-animate="target:#ring3-vis1; target2:#camera-move2; aevent:ring2">
        <!-- Animation: Ring 2 wird sichtbar; bei Klick auf Ring 2: Ring verschwindet und Kamerafahrt auf diesen-->
        <a-animation
                begin="ring1"
                id="ring2-vis1"
                attribute="scale"
                to="0.3 0.3 1"
                dur="1400"
                delay="6000">
        </a-animation>
    </a-entity>

    <!-- Ring 3 -->
    <a-entity id="ring03" geometry="primitive:circle; radius: 0.65" material="side:double; opacity: 0.4" position="0 0.01 -3.32" rotation="90 0 0" scale="0 0 0"
              score-counter
              event-animate="target:#ring4-vis1 ; target2:#camera-move3; aevent:ring3">
        <!-- Animation: Ring 3 wird sichtbar; bei Klick auf Ring 3: Ring verschwindet und Kamerafahrt auf diesen-->
        <a-animation
                begin="ring2"
                id="ring3-vis1"
                attribute="scale"
                to="0.3 0.3 1"
                dur="1400"
                delay="6000">
        </a-animation>
    </a-entity>

    <!-- Ring 4 -->
    <a-entity id="ring04" geometry="primitive:circle; radius: 0.65" material="side:double; opacity: 0.4" position="0 0.01 -4.38" rotation="90 0 0" scale="0 0 0"
              score-counter
              event-animate="target:#ring5-vis1; target2:#camera-move4; aevent:ring4">
        <!-- Animation: Ring 3 wird sichtbar; bei Klick auf Ring 3: Ring verschwindet und Kamerafahrt auf diesen-->
        <a-animation
                begin="ring3"
                id="ring4-vis1"
                attribute="scale"
                to="0.3 0.3 1"
                dur="1400"
                delay="6000">
        </a-animation>
    </a-entity>

    <!-- Ring 5 -->
    <a-entity id="ring05" geometry="primitive:circle; radius: 0.65" material="side:double; opacity: 0.4" position="0 0.01 -5.44" rotation="90 0 0" scale="0 0 0"
              score-counter
              event-animate="target:#camera-move5; target2:#img2-vis1; aevent:ring5">
        <!-- Animation: Ring 3 wird sichtbar; bei Klick auf Ring 3: Ring verschwindet und Kamerafahrt auf diesen-->
        <a-animation
                begin="ring4"
                id="ring5-vis1"
                attribute="scale"
                to="0.3 0.3 1"
                dur="1400"
                delay="6000">
        </a-animation>
    </a-entity>


    <!-- Laden der Heißluftballons -->
    <a-entity id="hotairballoon" collada-model="#hotairballoon"  shadow="cast: true" rotation="0 90 0" position="0 0 0" scale="0.1 0.1 0.1"></a-entity>
    <a-entity id="hotairballoon2" collada-model="#hotairballoon2" shadow="cast: true" rotation="0 90 0" position="0 0 -7" scale="0.1 0.1 0.1"></a-entity>

    <!-- Klippe -->
    <a-entity id="cliff" collada-model="#cliff" shadow="receive: true" rotation="0 270 0" position="0 -2.58 -23.2" scale="1 1 1">
        <a-animation
                begin="startexperience"
                id="balloon-flight"
                attribute="position"
                to="0 -2.58 -2.3"
                dur="100000">
        </a-animation>
    </a-entity>


    <!-- Slackline -->
    <a-entity id="slackline" shadow="cast: true" geometry="primitive: plane; height: 10; width: 10" material="side: double" position="0 0 -3.5" rotation="90 0 0" scale="0.003 0.63 1"></a-entity>

    <!-- Feuer -->
    <a-entity id="feuer" geometry="primitive: box" material="shader: flat; color: red; emissive:red; emissiveIntensity: 10" position="0 0.8 0" scale="0.015 0.015 0.015"></a-entity>

    <!-- Sonne -->


    <!-- Licht -->
    <!--<a-entity light="color:#EEE;intensity:0.5" position="-1 14.768748658218229 -0.40030401759598533"></a-entity>-->
    <!--<a-entity light="type:spot;angle:45;groundColor:#ffffff;color:#d56817;intensity:0.5"></a-entity>


    <a-entity light="type: directional; color:#EEE;intensity:1.5; castShadow: true" position="0.436 11.893 13.66" rotation=""></a-entity>
    <a-entity light="type: directional; color:#d56817" position="0.436 11.893 13.66" rotation=""></a-entity>

    <a-entity light="type: directional; color:#EEE" position="0.436 0.08250364725638981 -42.664441256706574" rotation=""></a-entity>
    <a-entity light="type: directional; color:#d56817; castShadow: true" position="0.436 11.893 13.66" rotation=""></a-entity>-->




    <!-- Environment Component Forest --
    <a-entity environment="preset: forest" position="0 -5 0">
        <a-animation
            attribute="position"
            to="0 -5 20"
            dur="20000">
        </a-animation>
    </a-entity>
-->


</a-scene>

</body>
</html>
